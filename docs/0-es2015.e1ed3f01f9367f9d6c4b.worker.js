!function(t){var e={};function s(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=e,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,(function(e){return t[e]}).bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s="wwU7")}({"9/MX":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rawSolutionList=e.solutionInfo=void 0;const n=[];e.rawSolutionList=n,e.solutionInfo=function(t){return e=>{n.push(Object.assign({create:()=>new e},t))}}},SVZI:function(t,e){},U63Z:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.solutionManager=void 0;const n=s("9/MX");s("SVZI");const i=new class{getSolutionsByDay(){return new Map(n.rawSolutionList.map(t=>[t.day,t]))}getSolutions(){return Array.from(this.getSolutionsByDay().values()).sort((t,e)=>t.day-e.day)}};e.solutionManager=i},kU1M:function(t,e,s){"use strict";function n(t){return"function"==typeof t}s.r(e),s.d(e,"audit",function(){return j}),s.d(e,"auditTime",function(){return Y}),s.d(e,"buffer",function(){return U}),s.d(e,"bufferCount",function(){return G}),s.d(e,"bufferTime",function(){return Z}),s.d(e,"bufferToggle",function(){return nt}),s.d(e,"bufferWhen",function(){return ot}),s.d(e,"catchError",function(){return ht}),s.d(e,"combineAll",function(){return xt}),s.d(e,"combineLatest",function(){return yt}),s.d(e,"concat",function(){return Vt}),s.d(e,"concatAll",function(){return Ct}),s.d(e,"concatMap",function(){return jt}),s.d(e,"concatMapTo",function(){return Pt}),s.d(e,"count",function(){return kt}),s.d(e,"debounce",function(){return Wt}),s.d(e,"debounceTime",function(){return Ft}),s.d(e,"defaultIfEmpty",function(){return Ut}),s.d(e,"delay",function(){return Xt}),s.d(e,"delayWhen",function(){return se}),s.d(e,"dematerialize",function(){return ce}),s.d(e,"distinct",function(){return le}),s.d(e,"distinctUntilChanged",function(){return fe}),s.d(e,"distinctUntilKeyChanged",function(){return we}),s.d(e,"elementAt",function(){return Oe}),s.d(e,"endWith",function(){return Ve}),s.d(e,"every",function(){return je}),s.d(e,"exhaust",function(){return Ae}),s.d(e,"exhaustMap",function(){return Be}),s.d(e,"expand",function(){return De}),s.d(e,"filter",function(){return me}),s.d(e,"finalize",function(){return Ue}),s.d(e,"find",function(){return Ge}),s.d(e,"findIndex",function(){return $e}),s.d(e,"first",function(){return Ze}),s.d(e,"groupBy",function(){return ss}),s.d(e,"ignoreElements",function(){return us}),s.d(e,"isEmpty",function(){return as}),s.d(e,"last",function(){return xs}),s.d(e,"map",function(){return vt}),s.d(e,"mapTo",function(){return ms}),s.d(e,"materialize",function(){return vs}),s.d(e,"max",function(){return Cs}),s.d(e,"merge",function(){return Os}),s.d(e,"mergeAll",function(){return It}),s.d(e,"mergeMap",function(){return Tt}),s.d(e,"flatMap",function(){return Tt}),s.d(e,"mergeMapTo",function(){return Vs}),s.d(e,"mergeScan",function(){return js}),s.d(e,"min",function(){return As}),s.d(e,"multicast",function(){return zs}),s.d(e,"observeOn",function(){return Us}),s.d(e,"onErrorResumeNext",function(){return Ls}),s.d(e,"pairwise",function(){return Zs}),s.d(e,"partition",function(){return tn}),s.d(e,"pluck",function(){return en}),s.d(e,"publish",function(){return sn}),s.d(e,"publishBehavior",function(){return rn}),s.d(e,"publishLast",function(){return cn}),s.d(e,"publishReplay",function(){return fn}),s.d(e,"race",function(){return wn}),s.d(e,"reduce",function(){return Is}),s.d(e,"repeat",function(){return xn}),s.d(e,"repeatWhen",function(){return _n}),s.d(e,"retry",function(){return Sn}),s.d(e,"retryWhen",function(){return Nn}),s.d(e,"refCount",function(){return Ms}),s.d(e,"sample",function(){return On}),s.d(e,"sampleTime",function(){return Pn}),s.d(e,"scan",function(){return Ts}),s.d(e,"sequenceEqual",function(){return Wn}),s.d(e,"share",function(){return zn}),s.d(e,"shareReplay",function(){return Yn}),s.d(e,"single",function(){return Un}),s.d(e,"skip",function(){return Gn}),s.d(e,"skipLast",function(){return $n}),s.d(e,"skipUntil",function(){return Xn}),s.d(e,"skipWhile",function(){return ei}),s.d(e,"startWith",function(){return ii}),s.d(e,"subscribeOn",function(){return pi}),s.d(e,"switchAll",function(){return yi}),s.d(e,"switchMap",function(){return wi}),s.d(e,"switchMapTo",function(){return _i}),s.d(e,"take",function(){return Ne}),s.d(e,"takeLast",function(){return ps}),s.d(e,"takeUntil",function(){return vi}),s.d(e,"takeWhile",function(){return Ti}),s.d(e,"tap",function(){return Ci}),s.d(e,"throttle",function(){return Pi}),s.d(e,"throttleTime",function(){return Mi}),s.d(e,"throwIfEmpty",function(){return ge}),s.d(e,"timeInterval",function(){return Fi}),s.d(e,"timeout",function(){return Hi}),s.d(e,"timeoutWith",function(){return Yi}),s.d(e,"timestamp",function(){return Gi}),s.d(e,"toArray",function(){return $i}),s.d(e,"window",function(){return Zi}),s.d(e,"windowCount",function(){return Qi}),s.d(e,"windowTime",function(){return sr}),s.d(e,"windowToggle",function(){return hr}),s.d(e,"windowWhen",function(){return dr}),s.d(e,"withLatestFrom",function(){return br}),s.d(e,"zip",function(){return Sr}),s.d(e,"zipAll",function(){return Tr});let i=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function o(t){setTimeout(()=>{throw t},0)}const c={closed:!0,next(t){},error(t){if(r.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function h(t){return null!==t&&"object"==typeof t}const l=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:s,_unsubscribe:i,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,s instanceof t)s.remove(this);else if(null!==s)for(let t=0;t<s.length;++t)s[t].remove(this);if(n(i))try{i.call(this)}catch(o){e=o instanceof l?d(o.errors):[o]}if(u(r)){let t=-1,s=r.length;for(;++t<s;){const s=r[t];if(h(s))try{s.unsubscribe()}catch(o){e=e||[],o instanceof l?e=e.concat(d(o.errors)):e.push(o)}}}if(e)throw new l(e)}add(e){let s=e;if(!e)return t.EMPTY;switch(typeof e){case"function":s=new t(e);case"object":if(s===this||s.closed||"function"!=typeof s.unsubscribe)return s;if(this.closed)return s.unsubscribe(),s;if(!(s instanceof t)){const e=s;s=new t,s._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=s;if(null===n)s._parentOrParents=this;else if(n instanceof t){if(n===this)return s;s._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return s;n.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[s]:i.push(s),s}remove(t){const e=this._subscriptions;if(e){const s=e.indexOf(t);-1!==s&&e.splice(s,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof l?e.errors:e),[])}const f=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends a{constructor(t,e,s){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=c;break;case 1:if(!t){this.destination=c;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new b(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new b(this,t,e,s)}}[f](){return this}static create(t,e,s){const n=new p(t,e,s);return n.syncErrorThrowable=!1,n}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class b extends p{constructor(t,e,s,i){let r;super(),this._parentSubscriber=t;let o=this;n(e)?r=e:e&&(r=e.next,s=e.error,i=e.complete,e!==c&&(o=Object.create(e),n(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=r,this._error=s,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;r.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:s}=r;if(this._error)s&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)s?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),s)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);r.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(s){if(this.unsubscribe(),r.useDeprecatedSynchronousErrorHandling)throw s;o(s)}}__tryOrSetError(t,e,s){if(!r.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,s)}catch(n){return r.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(o(n),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}class w extends p{notifyNext(t,e,s,n,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class x extends p{constructor(t,e,s){super(),this.parent=t,this.outerValue=e,this.outerIndex=s,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const m=t=>e=>{for(let s=0,n=t.length;s<n&&!e.closed;s++)e.next(t[s]);e.complete()};function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const _=y(),v=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),g=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function S(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const T=t=>{if(t&&"function"==typeof t[v])return n=t,t=>{const e=n[v]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(g(t))return m(t);if(S(t))return s=t,t=>(s.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);if(t&&"function"==typeof t[_])return e=t,t=>{const s=e[_]();for(;;){const e=s.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof s.return&&t.add(()=>{s.return&&s.return()}),t};{const e=h(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,s,n};function E(t){return t}function N(...t){return I(t)}function I(t){return 0===t.length?E:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}let C=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const s=new t;return s.source=this,s.operator=e,s}subscribe(t,e,s){const{operator:n}=this,i=function(t,e,s){if(t){if(t instanceof p)return t;if(t[f])return t[f]()}return t||e||s?new p(t,e,s):new p(c)}(t,e,s);if(i.add(n?n.call(i,this.source):this.source||r.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),r.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){r.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:s,isStopped:n}=t;if(e||n)return!1;t=s&&s instanceof p?s:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=O(e))((e,s)=>{let n;n=this.subscribe(e=>{try{t(e)}catch(i){s(i),n&&n.unsubscribe()}},s,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[v](){return this}pipe(...t){return 0===t.length?this:I(t)(this)}toPromise(t){return new(t=O(t))((t,e)=>{let s;this.subscribe(t=>s=t,t=>e(t),()=>t(s))})}}return t.create=e=>new t(e),t})();function O(t){if(t||(t=r.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function V(t,e,s,n,i=new x(t,s,n)){if(!i.closed)return e instanceof C?e.subscribe(i):T(e)(i)}function j(t){return function(e){return e.lift(new P(t))}}class P{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new k(t,this.durationSelector))}}class k extends w{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let s;try{const{durationSelector:e}=this;s=e(t)}catch(e){return this.destination.error(e)}const n=V(this,s);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}clearThrottle(){const{value:t,hasValue:e,throttled:s}=this;s&&(this.remove(s),this.throttled=null,s.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,s,n){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}class A extends a{constructor(t,e){super()}schedule(t,e=0){return this}}class M extends A{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const s=this.id,n=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(n,s,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this}requestAsyncId(t,e,s=0){return setInterval(t.flush.bind(t,this),s)}recycleAsyncId(t,e,s=0){if(null!==s&&this.delay===s&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(t,e);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s=!1,n=void 0;try{this.work(t)}catch(i){s=!0,n=!!i&&i||new Error(i)}if(s)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,s=e.actions,n=s.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&s.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let W=(()=>{class t{constructor(e,s=t.now){this.SchedulerAction=e,this.now=s}schedule(t,e=0,s){return new this.SchedulerAction(this,t).schedule(s,e)}}return t.now=()=>Date.now(),t})();class B extends W{constructor(t,e=W.now){super(t,()=>B.delegate&&B.delegate!==this?B.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,s){return B.delegate&&B.delegate!==this?B.delegate.schedule(t,e,s):super.schedule(t,e,s)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let s;this.active=!0;do{if(s=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,s){for(;t=e.shift();)t.unsubscribe();throw s}}}const R=new B(M);function F(t){return!u(t)&&t-parseFloat(t)+1>=0}function D(t){return t&&"function"==typeof t.schedule}function z(t){const{index:e,period:s,subscriber:n}=t;if(n.next(e),!n.closed){if(-1===s)return n.complete();t.index=e+1,this.schedule(t,s)}}function Y(t,e=R){return j(()=>function(t=0,e,s){let n=-1;return F(e)?n=Number(e)<1?1:Number(e):D(e)&&(s=e),D(s)||(s=R),new C(e=>{const i=F(t)?t:+t-s.now();return s.schedule(z,i,{index:0,period:n,subscriber:e})})}(t,e))}function U(t){return function(e){return e.lift(new q(t))}}class q{constructor(t){this.closingNotifier=t}call(t,e){return e.subscribe(new H(t,this.closingNotifier))}}class H extends w{constructor(t,e){super(t),this.buffer=[],this.add(V(this,e))}_next(t){this.buffer.push(t)}notifyNext(t,e,s,n,i){const r=this.buffer;this.buffer=[],this.destination.next(r)}}function G(t,e=null){return function(s){return s.lift(new L(t,e))}}class L{constructor(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?$:K}call(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))}}class K extends p{constructor(t,e){super(t),this.bufferSize=e,this.buffer=[]}_next(t){const e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])}_complete(){const t=this.buffer;t.length>0&&this.destination.next(t),super._complete()}}class $ extends p{constructor(t,e,s){super(t),this.bufferSize=e,this.startBufferEvery=s,this.buffers=[],this.count=0}_next(t){const{bufferSize:e,startBufferEvery:s,buffers:n,count:i}=this;this.count++,i%s==0&&n.push([]);for(let r=n.length;r--;){const s=n[r];s.push(t),s.length===e&&(n.splice(r,1),this.destination.next(s))}}_complete(){const{buffers:t,destination:e}=this;for(;t.length>0;){let s=t.shift();s.length>0&&e.next(s)}super._complete()}}function Z(t){let e=arguments.length,s=R;D(arguments[arguments.length-1])&&(s=arguments[arguments.length-1],e--);let n=null;e>=2&&(n=arguments[1]);let i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(e){return e.lift(new J(t,n,i,s))}}class J{constructor(t,e,s,n){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=s,this.scheduler=n}call(t,e){return e.subscribe(new Q(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class X{constructor(){this.buffer=[]}}class Q extends p{constructor(t,e,s,n,i){super(t),this.bufferTimeSpan=e,this.bufferCreationInterval=s,this.maxBufferSize=n,this.scheduler=i,this.contexts=[];const r=this.openContext();if(this.timespanOnly=null==s||s<0,this.timespanOnly)this.add(r.closeAction=i.schedule(tt,e,{subscriber:this,context:r,bufferTimeSpan:e}));else{const t={bufferTimeSpan:e,bufferCreationInterval:s,subscriber:this,scheduler:i};this.add(r.closeAction=i.schedule(st,e,{subscriber:this,context:r})),this.add(i.schedule(et,s,t))}}_next(t){const e=this.contexts,s=e.length;let n;for(let i=0;i<s;i++){const s=e[i],r=s.buffer;r.push(t),r.length==this.maxBufferSize&&(n=s)}n&&this.onBufferFull(n)}_error(t){this.contexts.length=0,super._error(t)}_complete(){const{contexts:t,destination:e}=this;for(;t.length>0;){const s=t.shift();e.next(s.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(t){this.closeContext(t);const e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();const e=this.bufferTimeSpan;this.add(t.closeAction=this.scheduler.schedule(tt,e,{subscriber:this,context:t,bufferTimeSpan:e}))}}openContext(){const t=new X;return this.contexts.push(t),t}closeContext(t){this.destination.next(t.buffer);const e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)}}function tt(t){const e=t.subscriber,s=t.context;s&&e.closeContext(s),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function et(t){const{bufferCreationInterval:e,bufferTimeSpan:s,subscriber:n,scheduler:i}=t,r=n.openContext();n.closed||(n.add(r.closeAction=i.schedule(st,s,{subscriber:n,context:r})),this.schedule(t,e))}function st(t){const{subscriber:e,context:s}=t;e.closeContext(s)}function nt(t,e){return function(s){return s.lift(new it(t,e))}}class it{constructor(t,e){this.openings=t,this.closingSelector=e}call(t,e){return e.subscribe(new rt(t,this.openings,this.closingSelector))}}class rt extends w{constructor(t,e,s){super(t),this.openings=e,this.closingSelector=s,this.contexts=[],this.add(V(this,e))}_next(t){const e=this.contexts,s=e.length;for(let n=0;n<s;n++)e[n].buffer.push(t)}_error(t){const e=this.contexts;for(;e.length>0;){const t=e.shift();t.subscription.unsubscribe(),t.buffer=null,t.subscription=null}this.contexts=null,super._error(t)}_complete(){const t=this.contexts;for(;t.length>0;){const e=t.shift();this.destination.next(e.buffer),e.subscription.unsubscribe(),e.buffer=null,e.subscription=null}this.contexts=null,super._complete()}notifyNext(t,e,s,n,i){t?this.closeBuffer(t):this.openBuffer(e)}notifyComplete(t){this.closeBuffer(t.context)}openBuffer(t){try{const e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(e){this._error(e)}}closeBuffer(t){const e=this.contexts;if(e&&t){const{buffer:s,subscription:n}=t;this.destination.next(s),e.splice(e.indexOf(t),1),this.remove(n),n.unsubscribe()}}trySubscribe(t){const e=this.contexts,s=new a,n={buffer:[],subscription:s};e.push(n);const i=V(this,t,n);!i||i.closed?this.closeBuffer(n):(i.context=n,this.add(i),s.add(i))}}function ot(t){return function(e){return e.lift(new ct(t))}}class ct{constructor(t){this.closingSelector=t}call(t,e){return e.subscribe(new ut(t,this.closingSelector))}}class ut extends w{constructor(t,e){super(t),this.closingSelector=e,this.subscribing=!1,this.openBuffer()}_next(t){this.buffer.push(t)}_complete(){const t=this.buffer;t&&this.destination.next(t),super._complete()}_unsubscribe(){this.buffer=null,this.subscribing=!1}notifyNext(t,e,s,n,i){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let t,{closingSubscription:e}=this;e&&(this.remove(e),e.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:e}=this;t=e()}catch(s){return this.error(s)}e=new a,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(V(this,t)),this.subscribing=!1}}function ht(t){return function(e){const s=new lt(t),n=e.lift(s);return s.caught=n}}class lt{constructor(t){this.selector=t}call(t,e){return e.subscribe(new at(t,this.selector,this.caught))}}class at extends w{constructor(t,e,s){super(t),this.selector=e,this.caught=s}error(t){if(!this.isStopped){let s;try{s=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const n=new x(this,void 0,void 0);this.add(n);const i=V(this,s,void 0,void 0,n);i!==n&&this.add(i)}}}function dt(t,e){return new C(s=>{const n=new a;let i=0;return n.add(e.schedule(function(){i!==t.length?(s.next(t[i++]),s.closed||n.add(this.schedule())):s.complete()})),n})}function ft(t,e){return e?dt(t,e):new C(m(t))}const pt={};class bt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new wt(t,this.resultSelector))}}class wt extends w{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(pt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let s=0;s<e;s++){const e=t[s];this.add(V(this,e,e,s))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,s,n,i){const r=this.values,o=this.toRespond?r[s]===pt?--this.toRespond:this.toRespond:0;r[s]=e,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}function xt(t){return e=>e.lift(new bt(t))}function mt(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[v]}(t))return function(t,e){return new C(s=>{const n=new a;return n.add(e.schedule(()=>{const i=t[v]();n.add(i.subscribe({next(t){n.add(e.schedule(()=>s.next(t)))},error(t){n.add(e.schedule(()=>s.error(t)))},complete(){n.add(e.schedule(()=>s.complete()))}}))})),n})}(t,e);if(S(t))return function(t,e){return new C(s=>{const n=new a;return n.add(e.schedule(()=>t.then(t=>{n.add(e.schedule(()=>{s.next(t),n.add(e.schedule(()=>s.complete()))}))},t=>{n.add(e.schedule(()=>s.error(t)))}))),n})}(t,e);if(g(t))return dt(t,e);if(function(t){return t&&"function"==typeof t[_]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new C(s=>{const n=new a;let i;return n.add(()=>{i&&"function"==typeof i.return&&i.return()}),n.add(e.schedule(()=>{i=t[_](),n.add(e.schedule(function(){if(s.closed)return;let t,e;try{const s=i.next();t=s.value,e=s.done}catch(n){return void s.error(n)}e?s.complete():(s.next(t),this.schedule())}))})),n})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof C?t:new C(T(t))}function yt(...t){let e=null;return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0].slice()),s=>s.lift.call(mt([s,...t]),new bt(e))}function _t(...t){let e=t[t.length-1];return D(e)?(t.pop(),dt(t,e)):ft(t)}function vt(t,e){return function(s){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return s.lift(new gt(t,e))}}class gt{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new St(t,this.project,this.thisArg))}}class St extends p{constructor(t,e,s){super(t),this.project=e,this.count=0,this.thisArg=s||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}function Tt(t,e,s=Number.POSITIVE_INFINITY){return"function"==typeof e?n=>n.pipe(Tt((s,n)=>mt(t(s,n)).pipe(vt((t,i)=>e(s,t,n,i))),s)):("number"==typeof e&&(s=e),e=>e.lift(new Et(t,s)))}class Et{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new Nt(t,this.project,this.concurrent))}}class Nt extends w{constructor(t,e,s=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=s,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const s=this.index++;try{e=this.project(t,s)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(e,t,s)}_innerSub(t,e,s){const n=new x(this,e,s),i=this.destination;i.add(n);const r=V(this,t,void 0,void 0,n);r!==n&&i.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,s,n,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function It(t=Number.POSITIVE_INFINITY){return Tt(E,t)}function Ct(){return It(1)}function Ot(...t){return Ct()(_t(...t))}function Vt(...t){return e=>e.lift.call(Ot(e,...t))}function jt(t,e){return Tt(t,e,1)}function Pt(t,e){return jt(()=>t,e)}function kt(t){return e=>e.lift(new At(t,e))}class At{constructor(t,e){this.predicate=t,this.source=e}call(t,e){return e.subscribe(new Mt(t,this.predicate,this.source))}}class Mt extends p{constructor(t,e,s){super(t),this.predicate=e,this.source=s,this.count=0,this.index=0}_next(t){this.predicate?this._tryPredicate(t):this.count++}_tryPredicate(t){let e;try{e=this.predicate(t,this.index++,this.source)}catch(s){return void this.destination.error(s)}e&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function Wt(t){return e=>e.lift(new Bt(t))}class Bt{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Rt(t,this.durationSelector))}}class Rt extends w{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1,this.durationSubscription=null}_next(t){try{const e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(e){this.destination.error(e)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(t,e){let s=this.durationSubscription;this.value=t,this.hasValue=!0,s&&(s.unsubscribe(),this.remove(s)),s=V(this,e),s&&!s.closed&&this.add(this.durationSubscription=s)}notifyNext(t,e,s,n,i){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const t=this.value,e=this.durationSubscription;e&&(this.durationSubscription=null,e.unsubscribe(),this.remove(e)),this.value=null,this.hasValue=!1,super._next(t)}}}function Ft(t,e=R){return s=>s.lift(new Dt(t,e))}class Dt{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new zt(t,this.dueTime,this.scheduler))}}class zt extends p{constructor(t,e,s){super(t),this.dueTime=e,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Yt,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Yt(t){t.debouncedNext()}function Ut(t=null){return e=>e.lift(new qt(t))}class qt{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ht(t,this.defaultValue))}}class Ht extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Gt(t){return t instanceof Date&&!isNaN(+t)}const Lt=new C(t=>t.complete());function Kt(t){return t?function(t){return new C(e=>t.schedule(()=>e.complete()))}(t):Lt}function $t(t,e){return new C(e?s=>e.schedule(Zt,0,{error:t,subscriber:s}):e=>e.error(t))}function Zt({error:t,subscriber:e}){e.error(t)}let Jt=(()=>{class t{constructor(t,e,s){this.kind=t,this.value=e,this.error=s,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,s){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return s&&s()}}accept(t,e,s){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,s)}toObservable(){switch(this.kind){case"N":return _t(this.value);case"E":return $t(this.error);case"C":return Kt()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function Xt(t,e=R){const s=Gt(t)?+t-e.now():Math.abs(t);return t=>t.lift(new Qt(s,e))}class Qt{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new te(t,this.delay,this.scheduler))}}class te extends p{constructor(t,e,s){super(t),this.delay=e,this.scheduler=s,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,s=e.queue,n=t.scheduler,i=t.destination;for(;s.length>0&&s[0].time-n.now()<=0;)s.shift().notification.observe(i);if(s.length>0){const e=Math.max(0,s[0].time-n.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(te.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,s=new ee(e.now()+this.delay,t);this.queue.push(s),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(Jt.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(Jt.createComplete()),this.unsubscribe()}}class ee{constructor(t,e){this.time=t,this.notification=e}}function se(t,e){return e?s=>new re(s,e).lift(new ne(t)):e=>e.lift(new ne(t))}class ne{constructor(t){this.delayDurationSelector=t}call(t,e){return e.subscribe(new ie(t,this.delayDurationSelector))}}class ie extends w{constructor(t,e){super(t),this.delayDurationSelector=e,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(t,e,s,n,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()}notifyError(t,e){this._error(t)}notifyComplete(t){const e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()}_next(t){const e=this.index++;try{const s=this.delayDurationSelector(t,e);s&&this.tryDelay(s,t)}catch(s){this.destination.error(s)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(t){t.unsubscribe();const e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue}tryDelay(t,e){const s=V(this,t,e);s&&!s.closed&&(this.destination.add(s),this.delayNotifierSubscriptions.push(s))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class re extends C{constructor(t,e){super(),this.source=t,this.subscriptionDelay=e}_subscribe(t){this.subscriptionDelay.subscribe(new oe(t,this.source))}}class oe extends p{constructor(t,e){super(),this.parent=t,this.source=e,this.sourceSubscribed=!1}_next(t){this.subscribeToSource()}_error(t){this.unsubscribe(),this.parent.error(t)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}function ce(){return function(t){return t.lift(new ue)}}class ue{call(t,e){return e.subscribe(new he(t))}}class he extends p{constructor(t){super(t)}_next(t){t.observe(this.destination)}}function le(t,e){return s=>s.lift(new ae(t,e))}class ae{constructor(t,e){this.keySelector=t,this.flushes=e}call(t,e){return e.subscribe(new de(t,this.keySelector,this.flushes))}}class de extends w{constructor(t,e,s){super(t),this.keySelector=e,this.values=new Set,s&&this.add(V(this,s))}notifyNext(t,e,s,n,i){this.values.clear()}notifyError(t,e){this._error(t)}_next(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)}_useKeySelector(t){let e;const{destination:s}=this;try{e=this.keySelector(t)}catch(n){return void s.error(n)}this._finalizeNext(e,t)}_finalizeNext(t,e){const{values:s}=this;s.has(t)||(s.add(t),this.destination.next(e))}}function fe(t,e){return s=>s.lift(new pe(t,e))}class pe{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new be(t,this.compare,this.keySelector))}}class be extends p{constructor(t,e,s){super(t),this.keySelector=s,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:s}=this;e=s?s(t):t}catch(n){return this.destination.error(n)}let s=!1;if(this.hasKey)try{const{compare:t}=this;s=t(this.key,e)}catch(n){return this.destination.error(n)}else this.hasKey=!0;s||(this.key=e,this.destination.next(t))}}function we(t,e){return fe((s,n)=>e?e(s[t],n[t]):s[t]===n[t])}const xe=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function me(t,e){return function(s){return s.lift(new ye(t,e))}}class ye{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new _e(t,this.predicate,this.thisArg))}}class _e extends p{constructor(t,e,s){super(t),this.predicate=e,this.thisArg=s,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(s){return void this.destination.error(s)}e&&this.destination.next(t)}}const ve=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function ge(t=Ee){return e=>e.lift(new Se(t))}class Se{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Te(t,this.errorFactory))}}class Te extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Ee(){return new ve}function Ne(t){return e=>0===t?Kt():e.lift(new Ie(t))}class Ie{constructor(t){if(this.total=t,this.total<0)throw new xe}call(t,e){return e.subscribe(new Ce(t,this.total))}}class Ce extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,s=++this.count;s<=e&&(this.destination.next(t),s===e&&(this.destination.complete(),this.unsubscribe()))}}function Oe(t,e){if(t<0)throw new xe;const s=arguments.length>=2;return n=>n.pipe(me((e,s)=>s===t),Ne(1),s?Ut(e):ge(()=>new xe))}function Ve(...t){return e=>Ot(e,_t(...t))}function je(t,e){return s=>s.lift(new Pe(t,e,s))}class Pe{constructor(t,e,s){this.predicate=t,this.thisArg=e,this.source=s}call(t,e){return e.subscribe(new ke(t,this.predicate,this.thisArg,this.source))}}class ke extends p{constructor(t,e,s,n){super(t),this.predicate=e,this.thisArg=s,this.source=n,this.index=0,this.thisArg=s||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(s){return void this.destination.error(s)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Ae(){return t=>t.lift(new Me)}class Me{call(t,e){return e.subscribe(new We(t))}}class We extends w{constructor(t){super(t),this.hasCompleted=!1,this.hasSubscription=!1}_next(t){this.hasSubscription||(this.hasSubscription=!0,this.add(V(this,t)))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function Be(t,e){return e?s=>s.pipe(Be((s,n)=>mt(t(s,n)).pipe(vt((t,i)=>e(s,t,n,i))))):e=>e.lift(new Re(t))}class Re{constructor(t){this.project=t}call(t,e){return e.subscribe(new Fe(t,this.project))}}class Fe extends w{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const s=this.index++;try{e=this.project(t,s)}catch(n){return void this.destination.error(n)}this.hasSubscription=!0,this._innerSub(e,t,s)}_innerSub(t,e,s){const n=new x(this,e,s),i=this.destination;i.add(n);const r=V(this,t,void 0,void 0,n);r!==n&&i.add(r)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t,e,s,n,i){this.destination.next(e)}notifyError(t){this.destination.error(t)}notifyComplete(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function De(t,e=Number.POSITIVE_INFINITY,s){return e=(e||0)<1?Number.POSITIVE_INFINITY:e,n=>n.lift(new ze(t,e,s))}class ze{constructor(t,e,s){this.project=t,this.concurrent=e,this.scheduler=s}call(t,e){return e.subscribe(new Ye(t,this.project,this.concurrent,this.scheduler))}}class Ye extends w{constructor(t,e,s,n){super(t),this.project=e,this.concurrent=s,this.scheduler=n,this.index=0,this.active=0,this.hasCompleted=!1,s<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(t){const{subscriber:e,result:s,value:n,index:i}=t;e.subscribeToProjection(s,n,i)}_next(t){const e=this.destination;if(e.closed)return void this._complete();const s=this.index++;if(this.active<this.concurrent){e.next(t);try{const{project:e}=this,n=e(t,s);this.scheduler?this.destination.add(this.scheduler.schedule(Ye.dispatch,0,{subscriber:this,result:n,value:t,index:s})):this.subscribeToProjection(n,t,s)}catch(n){e.error(n)}}else this.buffer.push(t)}subscribeToProjection(t,e,s){this.active++,this.destination.add(V(this,t,e,s))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,s,n,i){this._next(e)}notifyComplete(t){const e=this.buffer;this.destination.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}function Ue(t){return e=>e.lift(new qe(t))}class qe{constructor(t){this.callback=t}call(t,e){return e.subscribe(new He(t,this.callback))}}class He extends p{constructor(t,e){super(t),this.add(new a(e))}}function Ge(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return s=>s.lift(new Le(t,s,!1,e))}class Le{constructor(t,e,s,n){this.predicate=t,this.source=e,this.yieldIndex=s,this.thisArg=n}call(t,e){return e.subscribe(new Ke(t,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class Ke extends p{constructor(t,e,s,n,i){super(t),this.predicate=e,this.source=s,this.yieldIndex=n,this.thisArg=i,this.index=0}notifyComplete(t){const e=this.destination;e.next(t),e.complete(),this.unsubscribe()}_next(t){const{predicate:e,thisArg:s}=this,n=this.index++;try{e.call(s||this,t,n,this.source)&&this.notifyComplete(this.yieldIndex?n:t)}catch(i){this.destination.error(i)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function $e(t,e){return s=>s.lift(new Le(t,s,!0,e))}function Ze(t,e){const s=arguments.length>=2;return n=>n.pipe(t?me((e,s)=>t(e,s,n)):E,Ne(1),s?Ut(e):ge(()=>new ve))}const Je=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class Xe extends a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const s=e.indexOf(this.subscriber);-1!==s&&e.splice(s,1)}}class Qe extends p{constructor(t){super(t),this.destination=t}}let ts=(()=>{class t extends C{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new Qe(this)}lift(t){const e=new es(this,this);return e.operator=t,e}next(t){if(this.closed)throw new Je;if(!this.isStopped){const{observers:e}=this,s=e.length,n=e.slice();for(let i=0;i<s;i++)n[i].next(t)}}error(t){if(this.closed)throw new Je;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,s=e.length,n=e.slice();for(let i=0;i<s;i++)n[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new Je;this.isStopped=!0;const{observers:t}=this,e=t.length,s=t.slice();for(let n=0;n<e;n++)s[n].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new Je;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new Je;return this.hasError?(t.error(this.thrownError),a.EMPTY):this.isStopped?(t.complete(),a.EMPTY):(this.observers.push(t),new Xe(this,t))}asObservable(){const t=new C;return t.source=this,t}}return t.create=(t,e)=>new es(t,e),t})();class es extends ts{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):a.EMPTY}}function ss(t,e,s,n){return i=>i.lift(new ns(t,e,s,n))}class ns{constructor(t,e,s,n){this.keySelector=t,this.elementSelector=e,this.durationSelector=s,this.subjectSelector=n}call(t,e){return e.subscribe(new is(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class is extends p{constructor(t,e,s,n,i){super(t),this.keySelector=e,this.elementSelector=s,this.durationSelector=n,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(s){return void this.error(s)}this._group(t,e)}_group(t,e){let s=this.groups;s||(s=this.groups=new Map);let n,i=s.get(e);if(this.elementSelector)try{n=this.elementSelector(t)}catch(r){this.error(r)}else n=t;if(!i){i=this.subjectSelector?this.subjectSelector():new ts,s.set(e,i);const t=new os(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new os(e,i))}catch(r){return void this.error(r)}this.add(t.subscribe(new rs(e,i,this)))}}i.closed||i.next(n)}_error(t){const e=this.groups;e&&(e.forEach((e,s)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class rs extends p{constructor(t,e,s){super(e),this.key=t,this.group=e,this.parent=s}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class os extends C{constructor(t,e,s){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=s}_subscribe(t){const e=new a,{refCountSubscription:s,groupSubject:n}=this;return s&&!s.closed&&e.add(new cs(s)),e.add(n.subscribe(t)),e}}class cs extends a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}function us(){return function(t){return t.lift(new hs)}}class hs{call(t,e){return e.subscribe(new ls(t))}}class ls extends p{_next(t){}}function as(){return t=>t.lift(new ds)}class ds{call(t,e){return e.subscribe(new fs(t))}}class fs extends p{constructor(t){super(t)}notifyComplete(t){const e=this.destination;e.next(t),e.complete()}_next(t){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function ps(t){return function(e){return 0===t?Kt():e.lift(new bs(t))}}class bs{constructor(t){if(this.total=t,this.total<0)throw new xe}call(t,e){return e.subscribe(new ws(t,this.total))}}class ws extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,s=this.total,n=this.count++;e.length<s?e.push(t):e[n%s]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const s=this.count>=this.total?this.total:this.count,n=this.ring;for(let i=0;i<s;i++){const i=e++%s;t.next(n[i])}}t.complete()}}function xs(t,e){const s=arguments.length>=2;return n=>n.pipe(t?me((e,s)=>t(e,s,n)):E,ps(1),s?Ut(e):ge(()=>new ve))}function ms(t){return e=>e.lift(new ys(t))}class ys{constructor(t){this.value=t}call(t,e){return e.subscribe(new _s(t,this.value))}}class _s extends p{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}function vs(){return function(t){return t.lift(new gs)}}class gs{call(t,e){return e.subscribe(new Ss(t))}}class Ss extends p{constructor(t){super(t)}_next(t){this.destination.next(Jt.createNext(t))}_error(t){const e=this.destination;e.next(Jt.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(Jt.createComplete()),t.complete()}}function Ts(t,e){let s=!1;return arguments.length>=2&&(s=!0),function(n){return n.lift(new Es(t,e,s))}}class Es{constructor(t,e,s=!1){this.accumulator=t,this.seed=e,this.hasSeed=s}call(t,e){return e.subscribe(new Ns(t,this.accumulator,this.seed,this.hasSeed))}}class Ns extends p{constructor(t,e,s,n){super(t),this.accumulator=e,this._seed=s,this.hasSeed=n,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let s;try{s=this.accumulator(this.seed,t,e)}catch(n){this.destination.error(n)}this.seed=s,this.destination.next(s)}}function Is(t,e){return arguments.length>=2?function(s){return N(Ts(t,e),ps(1),Ut(e))(s)}:function(e){return N(Ts((e,s,n)=>t(e,s,n+1)),ps(1))(e)}}function Cs(t){return Is("function"==typeof t?(e,s)=>t(e,s)>0?e:s:(t,e)=>t>e?t:e)}function Os(...t){return e=>e.lift.call(function(...t){let e=Number.POSITIVE_INFINITY,s=null,n=t[t.length-1];return D(n)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof n&&(e=t.pop()),null===s&&1===t.length&&t[0]instanceof C?t[0]:It(e)(ft(t,s))}(e,...t))}function Vs(t,e,s=Number.POSITIVE_INFINITY){return"function"==typeof e?Tt(()=>t,e,s):("number"==typeof e&&(s=e),Tt(()=>t,s))}function js(t,e,s=Number.POSITIVE_INFINITY){return n=>n.lift(new Ps(t,e,s))}class Ps{constructor(t,e,s){this.accumulator=t,this.seed=e,this.concurrent=s}call(t,e){return e.subscribe(new ks(t,this.accumulator,this.seed,this.concurrent))}}class ks extends w{constructor(t,e,s,n){super(t),this.accumulator=e,this.acc=s,this.concurrent=n,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){if(this.active<this.concurrent){const s=this.index++,n=this.destination;let i;try{const{accumulator:e}=this;i=e(this.acc,t,s)}catch(e){return n.error(e)}this.active++,this._innerSub(i,t,s)}else this.buffer.push(t)}_innerSub(t,e,s){const n=new x(this,e,s),i=this.destination;i.add(n);const r=V(this,t,void 0,void 0,n);r!==n&&i.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(t,e,s,n,i){const{destination:r}=this;this.acc=e,this.hasValue=!0,r.next(e)}notifyComplete(t){const e=this.buffer;this.destination.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function As(t){return Is("function"==typeof t?(e,s)=>t(e,s)<0?e:s:(t,e)=>t<e?t:e)}function Ms(){return function(t){return t.lift(new Ws(t))}}class Ws{constructor(t){this.connectable=t}call(t,e){const{connectable:s}=this;s._refCount++;const n=new Bs(t,s),i=e.subscribe(n);return n.closed||(n.connection=s.connect()),i}}class Bs extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:s}=this,n=t._connection;this.connection=null,!n||s&&n!==s||n.unsubscribe()}}class Rs extends C{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new a,t.add(this.source.subscribe(new Ds(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.EMPTY)),t}refCount(){return Ms()(this)}}const Fs=(()=>{const t=Rs.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Ds extends Qe{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function zs(t,e){return function(s){let n;if(n="function"==typeof t?t:function(){return t},"function"==typeof e)return s.lift(new Ys(n,e));const i=Object.create(s,Fs);return i.source=s,i.subjectFactory=n,i}}class Ys{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:s}=this,n=this.subjectFactory(),i=s(n).subscribe(t);return i.add(e.subscribe(n)),i}}function Us(t,e=0){return function(s){return s.lift(new qs(t,e))}}class qs{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new Hs(t,this.scheduler,this.delay))}}class Hs extends p{constructor(t,e,s=0){super(t),this.scheduler=e,this.delay=s}static dispatch(t){const{notification:e,destination:s}=t;e.observe(s),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Hs.dispatch,this.delay,new Gs(t,this.destination)))}_next(t){this.scheduleMessage(Jt.createNext(t))}_error(t){this.scheduleMessage(Jt.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Jt.createComplete()),this.unsubscribe()}}class Gs{constructor(t,e){this.notification=t,this.destination=e}}function Ls(...t){return 1===t.length&&u(t[0])&&(t=t[0]),e=>e.lift(new Ks(t))}class Ks{constructor(t){this.nextSources=t}call(t,e){return e.subscribe(new $s(t,this.nextSources))}}class $s extends w{constructor(t,e){super(t),this.destination=t,this.nextSources=e}notifyError(t,e){this.subscribeToNextSource()}notifyComplete(t){this.subscribeToNextSource()}_error(t){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const t=this.nextSources.shift();if(t){const e=new x(this,void 0,void 0),s=this.destination;s.add(e);const n=V(this,t,void 0,void 0,e);n!==e&&s.add(n)}else this.destination.complete()}}function Zs(){return t=>t.lift(new Js)}class Js{call(t,e){return e.subscribe(new Xs(t))}}class Xs extends p{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function Qs(t,e){function s(){return!s.pred.apply(s.thisArg,arguments)}return s.pred=t,s.thisArg=e,s}function tn(t,e){return s=>[me(t,e)(s),me(Qs(t,e))(s)]}function en(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return s=>vt(function(t,e){return s=>{let n=s;for(let i=0;i<e;i++){const e=n[t[i]];if(void 0===e)return;n=e}return n}}(t,e))(s)}function sn(t){return t?zs(()=>new ts,t):zs(new ts)}class nn extends ts{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Je;return this._value}next(t){super.next(this._value=t)}}function rn(t){return e=>zs(new nn(t))(e)}class on extends ts{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(t){return this.hasError?(t.error(this.thrownError),a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),a.EMPTY):super._subscribe(t)}next(t){this.hasCompleted||(this.value=t,this.hasNext=!0)}error(t){this.hasCompleted||super.error(t)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}function cn(){return t=>zs(new on)(t)}class un extends M{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,s=0){return null!==s&&s>0||null===s&&this.delay>0?super.requestAsyncId(t,e,s):t.flush(this)}}class hn extends B{}const ln=new hn(un);class an extends ts{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new dn(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,s=e?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,i=s.length;let r;if(this.closed)throw new Je;if(this.isStopped||this.hasError?r=a.EMPTY:(this.observers.push(t),r=new Xe(this,t)),n&&t.add(t=new Hs(t,n)),e)for(let o=0;o<i&&!t.closed;o++)t.next(s[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(s[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),r}_getNow(){return(this.scheduler||ln).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,s=this._windowTime,n=this._events,i=n.length;let r=0;for(;r<i&&!(t-n[r].time<s);)r++;return i>e&&(r=Math.max(r,i-e)),r>0&&n.splice(0,r),n}}class dn{constructor(t,e){this.time=t,this.value=e}}function fn(t,e,s,n){s&&"function"!=typeof s&&(n=s);const i="function"==typeof s?s:void 0,r=new an(t,e,n);return t=>zs(()=>r,i)(t)}class pn{call(t,e){return e.subscribe(new bn(t))}}class bn extends w{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let s=0;s<e&&!this.hasFirst;s++){let e=t[s],n=V(this,e,e,s);this.subscriptions&&this.subscriptions.push(n),this.add(n)}this.observables=null}}notifyNext(t,e,s,n,i){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==s){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}function wn(...t){return function(e){return 1===t.length&&u(t[0])&&(t=t[0]),e.lift.call(function(...t){if(1===t.length){if(!u(t[0]))return t[0];t=t[0]}return ft(t,void 0).lift(new pn)}(e,...t))}}function xn(t=-1){return e=>0===t?Kt():e.lift(new mn(t<0?-1:t-1,e))}class mn{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new yn(t,this.count,this.source))}}class yn extends p{constructor(t,e,s){super(t),this.count=e,this.source=s}complete(){if(!this.isStopped){const{source:t,count:e}=this;if(0===e)return super.complete();e>-1&&(this.count=e-1),t.subscribe(this._unsubscribeAndRecycle())}}}function _n(t){return e=>e.lift(new vn(t))}class vn{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new gn(t,this.notifier,e))}}class gn extends w{constructor(t,e,s){super(t),this.notifier=e,this.source=s,this.sourceIsBeingSubscribedTo=!0}notifyNext(t,e,s,n,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(t){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next()}}_unsubscribe(){const{notifications:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null}_unsubscribeAndRecycle(){const{_unsubscribe:t}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=t,this}subscribeToRetries(){let t;this.notifications=new ts;try{const{notifier:e}=this;t=e(this.notifications)}catch(e){return super.complete()}this.retries=t,this.retriesSubscription=V(this,t)}}function Sn(t=-1){return e=>e.lift(new Tn(t,e))}class Tn{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new En(t,this.count,this.source))}}class En extends p{constructor(t,e,s){super(t),this.count=e,this.source=s}error(t){if(!this.isStopped){const{source:e,count:s}=this;if(0===s)return super.error(t);s>-1&&(this.count=s-1),e.subscribe(this._unsubscribeAndRecycle())}}}function Nn(t){return e=>e.lift(new In(t,e))}class In{constructor(t,e){this.notifier=t,this.source=e}call(t,e){return e.subscribe(new Cn(t,this.notifier,this.source))}}class Cn extends w{constructor(t,e,s){super(t),this.notifier=e,this.source=s}error(t){if(!this.isStopped){let s=this.errors,n=this.retries,i=this.retriesSubscription;if(n)this.errors=null,this.retriesSubscription=null;else{s=new ts;try{const{notifier:t}=this;n=t(s)}catch(e){return super.error(e)}i=V(this,n)}this._unsubscribeAndRecycle(),this.errors=s,this.retries=n,this.retriesSubscription=i,s.next(t)}}_unsubscribe(){const{errors:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null}notifyNext(t,e,s,n,i){const{_unsubscribe:r}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)}}function On(t){return e=>e.lift(new Vn(t))}class Vn{constructor(t){this.notifier=t}call(t,e){const s=new jn(t),n=e.subscribe(s);return n.add(V(s,this.notifier)),n}}class jn extends w{constructor(){super(...arguments),this.hasValue=!1}_next(t){this.value=t,this.hasValue=!0}notifyNext(t,e,s,n,i){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function Pn(t,e=R){return s=>s.lift(new kn(t,e))}class kn{constructor(t,e){this.period=t,this.scheduler=e}call(t,e){return e.subscribe(new An(t,this.period,this.scheduler))}}class An extends p{constructor(t,e,s){super(t),this.period=e,this.scheduler=s,this.hasValue=!1,this.add(s.schedule(Mn,e,{subscriber:this,period:e}))}_next(t){this.lastValue=t,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function Mn(t){let{subscriber:e,period:s}=t;e.notifyNext(),this.schedule(t,s)}function Wn(t,e){return s=>s.lift(new Bn(t,e))}class Bn{constructor(t,e){this.compareTo=t,this.comparator=e}call(t,e){return e.subscribe(new Rn(t,this.compareTo,this.comparator))}}class Rn extends p{constructor(t,e,s){super(t),this.compareTo=e,this.comparator=s,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(e.subscribe(new Fn(t,this)))}_next(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:t,_b:e,comparator:s}=this;for(;t.length>0&&e.length>0;){let i=t.shift(),r=e.shift(),o=!1;try{o=s?s(i,r):i===r}catch(n){this.destination.error(n)}o||this.emit(!1)}}emit(t){const{destination:e}=this;e.next(t),e.complete()}nextB(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class Fn extends p{constructor(t,e){super(t),this.parent=e}_next(t){this.parent.nextB(t)}_error(t){this.parent.error(t),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}function Dn(){return new ts}function zn(){return t=>Ms()(zs(Dn)(t))}function Yn(t,e,s){let n;return n=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:s},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:s,scheduler:n}){let i,r,o=0,c=!1,u=!1;return function(h){o++,i&&!c||(c=!1,i=new an(t,e,n),r=h.subscribe({next(t){i.next(t)},error(t){c=!0,i.error(t)},complete(){u=!0,r=void 0,i.complete()}}));const l=i.subscribe(this);this.add(()=>{o--,l.unsubscribe(),r&&!u&&s&&0===o&&(r.unsubscribe(),r=void 0,i=void 0)})}}(n))}function Un(t){return e=>e.lift(new qn(t,e))}class qn{constructor(t,e){this.predicate=t,this.source=e}call(t,e){return e.subscribe(new Hn(t,this.predicate,this.source))}}class Hn extends p{constructor(t,e,s){super(t),this.predicate=e,this.source=s,this.seenValue=!1,this.index=0}applySingleValue(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)}_next(t){const e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)}tryNext(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(s){this.destination.error(s)}}_complete(){const t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new ve)}}function Gn(t){return e=>e.lift(new Ln(t))}class Ln{constructor(t){this.total=t}call(t,e){return e.subscribe(new Kn(t,this.total))}}class Kn extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function $n(t){return e=>e.lift(new Zn(t))}class Zn{constructor(t){if(this._skipCount=t,this._skipCount<0)throw new xe}call(t,e){return e.subscribe(0===this._skipCount?new p(t):new Jn(t,this._skipCount))}}class Jn extends p{constructor(t,e){super(t),this._skipCount=e,this._count=0,this._ring=new Array(e)}_next(t){const e=this._skipCount,s=this._count++;if(s<e)this._ring[s]=t;else{const n=s%e,i=this._ring,r=i[n];i[n]=t,this.destination.next(r)}}}function Xn(t){return e=>e.lift(new Qn(t))}class Qn{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new ti(t,this.notifier))}}class ti extends w{constructor(t,e){super(t),this.hasValue=!1;const s=new x(this,void 0,void 0);this.add(s),this.innerSubscription=s;const n=V(this,e,void 0,void 0,s);n!==s&&(this.add(n),this.innerSubscription=n)}_next(t){this.hasValue&&super._next(t)}notifyNext(t,e,s,n,i){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}function ei(t){return e=>e.lift(new si(t))}class si{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new ni(t,this.predicate))}}class ni extends p{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}function ii(...t){const e=t[t.length-1];return D(e)?(t.pop(),s=>Ot(t,s,e)):e=>Ot(t,e)}let ri=1;const oi=(()=>Promise.resolve())(),ci={};function ui(t){return t in ci&&(delete ci[t],!0)}const hi={setImmediate(t){const e=ri++;return ci[e]=!0,oi.then(()=>ui(e)&&t()),e},clearImmediate(t){ui(t)}};class li extends M{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,s=0){return null!==s&&s>0?super.requestAsyncId(t,e,s):(t.actions.push(this),t.scheduled||(t.scheduled=hi.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(t,e,s);0===t.actions.length&&(hi.clearImmediate(e),t.scheduled=void 0)}}class ai extends B{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let s,n=-1,i=e.length;t=t||e.shift();do{if(s=t.execute(t.state,t.delay))break}while(++n<i&&(t=e.shift()));if(this.active=!1,s){for(;++n<i&&(t=e.shift());)t.unsubscribe();throw s}}}const di=new ai(li);class fi extends C{constructor(t,e=0,s=di){super(),this.source=t,this.delayTime=e,this.scheduler=s,(!F(e)||e<0)&&(this.delayTime=0),s&&"function"==typeof s.schedule||(this.scheduler=di)}static create(t,e=0,s=di){return new fi(t,e,s)}static dispatch(t){const{source:e,subscriber:s}=t;return this.add(e.subscribe(s))}_subscribe(t){return this.scheduler.schedule(fi.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function pi(t,e=0){return function(s){return s.lift(new bi(t,e))}}class bi{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new fi(e,this.delay,this.scheduler).subscribe(t)}}function wi(t,e){return"function"==typeof e?s=>s.pipe(wi((s,n)=>mt(t(s,n)).pipe(vt((t,i)=>e(s,t,n,i))))):e=>e.lift(new xi(t))}class xi{constructor(t){this.project=t}call(t,e){return e.subscribe(new mi(t,this.project))}}class mi extends w{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const s=this.index++;try{e=this.project(t,s)}catch(n){return void this.destination.error(n)}this._innerSub(e,t,s)}_innerSub(t,e,s){const n=this.innerSubscription;n&&n.unsubscribe();const i=new x(this,e,s),r=this.destination;r.add(i),this.innerSubscription=V(this,t,void 0,void 0,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,s,n,i){this.destination.next(e)}}function yi(){return wi(E)}function _i(t,e){return e?wi(()=>t,e):wi(()=>t)}function vi(t){return e=>e.lift(new gi(t))}class gi{constructor(t){this.notifier=t}call(t,e){const s=new Si(t),n=V(s,this.notifier);return n&&!s.seenValue?(s.add(n),e.subscribe(s)):s}}class Si extends w{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,s,n,i){this.seenValue=!0,this.complete()}notifyComplete(){}}function Ti(t,e=!1){return s=>s.lift(new Ei(t,e))}class Ei{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new Ni(t,this.predicate,this.inclusive))}}class Ni extends p{constructor(t,e,s){super(t),this.predicate=e,this.inclusive=s,this.index=0}_next(t){const e=this.destination;let s;try{s=this.predicate(t,this.index++)}catch(n){return void e.error(n)}this.nextOrComplete(t,s)}nextOrComplete(t,e){const s=this.destination;Boolean(e)?s.next(t):(this.inclusive&&s.next(t),s.complete())}}function Ii(){}function Ci(t,e,s){return function(n){return n.lift(new Oi(t,e,s))}}class Oi{constructor(t,e,s){this.nextOrObserver=t,this.error=e,this.complete=s}call(t,e){return e.subscribe(new Vi(t,this.nextOrObserver,this.error,this.complete))}}class Vi extends p{constructor(t,e,s,i){super(t),this._tapNext=Ii,this._tapError=Ii,this._tapComplete=Ii,this._tapError=s||Ii,this._tapComplete=i||Ii,n(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Ii,this._tapError=e.error||Ii,this._tapComplete=e.complete||Ii)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const ji={leading:!0,trailing:!1};function Pi(t,e=ji){return s=>s.lift(new ki(t,e.leading,e.trailing))}class ki{constructor(t,e,s){this.durationSelector=t,this.leading=e,this.trailing=s}call(t,e){return e.subscribe(new Ai(t,this.durationSelector,this.leading,this.trailing))}}class Ai extends w{constructor(t,e,s,n){super(t),this.destination=t,this.durationSelector=e,this._leading=s,this._trailing=n,this._hasValue=!1}_next(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))}send(){const{_hasValue:t,_sendValue:e}=this;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=null}throttle(t){const e=this.tryDurationSelector(t);e&&this.add(this._throttled=V(this,e))}tryDurationSelector(t){try{return this.durationSelector(t)}catch(e){return this.destination.error(e),null}}throttlingDone(){const{_throttled:t,_trailing:e}=this;t&&t.unsubscribe(),this._throttled=null,e&&this.send()}notifyNext(t,e,s,n,i){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}function Mi(t,e=R,s=ji){return n=>n.lift(new Wi(t,e,s.leading,s.trailing))}class Wi{constructor(t,e,s,n){this.duration=t,this.scheduler=e,this.leading=s,this.trailing=n}call(t,e){return e.subscribe(new Bi(t,this.duration,this.scheduler,this.leading,this.trailing))}}class Bi extends p{constructor(t,e,s,n,i){super(t),this.duration=e,this.scheduler=s,this.leading=n,this.trailing=i,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Ri,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function Ri(t){const{subscriber:e}=t;e.clearThrottle()}function Fi(t=R){return e=>{return s=()=>e.pipe(Ts(({current:e},s)=>({value:s,current:t.now(),last:e}),{current:t.now(),value:void 0,last:void 0}),vt(({current:t,last:e,value:s})=>new Di(s,t-e))),new C(t=>{let e;try{e=s()}catch(n){return void t.error(n)}return(e?mt(e):Kt()).subscribe(t)});var s}}class Di{constructor(t,e){this.value=t,this.interval=e}}const zi=(()=>{function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t})();function Yi(t,e,s=R){return n=>{let i=Gt(t),r=i?+t-s.now():Math.abs(t);return n.lift(new Ui(r,i,e,s))}}class Ui{constructor(t,e,s,n){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=s,this.scheduler=n}call(t,e){return e.subscribe(new qi(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class qi extends w{constructor(t,e,s,n,i){super(t),this.absoluteTimeout=e,this.waitFor=s,this.withObservable=n,this.scheduler=i,this.action=null,this.scheduleTimeout()}static dispatchTimeout(t){const{withObservable:e}=t;t._unsubscribeAndRecycle(),t.add(V(t,e))}scheduleTimeout(){const{action:t}=this;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(qi.dispatchTimeout,this.waitFor,this))}_next(t){this.absoluteTimeout||this.scheduleTimeout(),super._next(t)}_unsubscribe(){this.action=null,this.scheduler=null,this.withObservable=null}}function Hi(t,e=R){return Yi(t,$t(new zi),e)}function Gi(t=R){return vt(e=>new Li(e,t.now()))}class Li{constructor(t,e){this.value=t,this.timestamp=e}}function Ki(t,e,s){return 0===s?[e]:(t.push(e),t)}function $i(){return Is(Ki,[])}function Zi(t){return function(e){return e.lift(new Ji(t))}}class Ji{constructor(t){this.windowBoundaries=t}call(t,e){const s=new Xi(t),n=e.subscribe(s);return n.closed||s.add(V(s,this.windowBoundaries)),n}}class Xi extends w{constructor(t){super(t),this.window=new ts,t.next(this.window)}notifyNext(t,e,s,n,i){this.openWindow()}notifyError(t,e){this._error(t)}notifyComplete(t){this._complete()}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const t=this.window;t&&t.complete();const e=this.destination,s=this.window=new ts;e.next(s)}}function Qi(t,e=0){return function(s){return s.lift(new tr(t,e))}}class tr{constructor(t,e){this.windowSize=t,this.startWindowEvery=e}call(t,e){return e.subscribe(new er(t,this.windowSize,this.startWindowEvery))}}class er extends p{constructor(t,e,s){super(t),this.destination=t,this.windowSize=e,this.startWindowEvery=s,this.windows=[new ts],this.count=0,t.next(this.windows[0])}_next(t){const e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,s=this.destination,n=this.windowSize,i=this.windows,r=i.length;for(let c=0;c<r&&!this.closed;c++)i[c].next(t);const o=this.count-n+1;if(o>=0&&o%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){const t=new ts;i.push(t),s.next(t)}}_error(t){const e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}function sr(t){let e=R,s=null,n=Number.POSITIVE_INFINITY;return D(arguments[3])&&(e=arguments[3]),D(arguments[2])?e=arguments[2]:F(arguments[2])&&(n=arguments[2]),D(arguments[1])?e=arguments[1]:F(arguments[1])&&(s=arguments[1]),function(i){return i.lift(new nr(t,s,n,e))}}class nr{constructor(t,e,s,n){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=s,this.scheduler=n}call(t,e){return e.subscribe(new rr(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class ir extends ts{constructor(){super(...arguments),this._numberOfNextedValues=0}next(t){this._numberOfNextedValues++,super.next(t)}get numberOfNextedValues(){return this._numberOfNextedValues}}class rr extends p{constructor(t,e,s,n,i){super(t),this.destination=t,this.windowTimeSpan=e,this.windowCreationInterval=s,this.maxWindowSize=n,this.scheduler=i,this.windows=[];const r=this.openWindow();if(null!==s&&s>=0){const t={windowTimeSpan:e,windowCreationInterval:s,subscriber:this,scheduler:i};this.add(i.schedule(ur,e,{subscriber:this,window:r,context:null})),this.add(i.schedule(cr,s,t))}else this.add(i.schedule(or,e,{subscriber:this,window:r,windowTimeSpan:e}))}_next(t){const e=this.windows,s=e.length;for(let n=0;n<s;n++){const s=e[n];s.closed||(s.next(t),s.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(s))}}_error(t){const e=this.windows;for(;e.length>0;)e.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;for(;t.length>0;){const e=t.shift();e.closed||e.complete()}this.destination.complete()}openWindow(){const t=new ir;return this.windows.push(t),this.destination.next(t),t}closeWindow(t){t.complete();const e=this.windows;e.splice(e.indexOf(t),1)}}function or(t){const{subscriber:e,windowTimeSpan:s,window:n}=t;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,s)}function cr(t){const{windowTimeSpan:e,subscriber:s,scheduler:n,windowCreationInterval:i}=t,r=s.openWindow();let o={action:this,subscription:null};o.subscription=n.schedule(ur,e,{subscriber:s,window:r,context:o}),this.add(o.subscription),this.schedule(t,i)}function ur(t){const{subscriber:e,window:s,context:n}=t;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(s)}function hr(t,e){return s=>s.lift(new lr(t,e))}class lr{constructor(t,e){this.openings=t,this.closingSelector=e}call(t,e){return e.subscribe(new ar(t,this.openings,this.closingSelector))}}class ar extends w{constructor(t,e,s){super(t),this.openings=e,this.closingSelector=s,this.contexts=[],this.add(this.openSubscription=V(this,e,e))}_next(t){const{contexts:e}=this;if(e){const s=e.length;for(let n=0;n<s;n++)e[n].window.next(t)}}_error(t){const{contexts:e}=this;if(this.contexts=null,e){const s=e.length;let n=-1;for(;++n<s;){const s=e[n];s.window.error(t),s.subscription.unsubscribe()}}super._error(t)}_complete(){const{contexts:t}=this;if(this.contexts=null,t){const e=t.length;let s=-1;for(;++s<e;){const e=t[s];e.window.complete(),e.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:t}=this;if(this.contexts=null,t){const e=t.length;let s=-1;for(;++s<e;){const e=t[s];e.window.unsubscribe(),e.subscription.unsubscribe()}}}notifyNext(t,e,s,n,i){if(t===this.openings){let t;try{const{closingSelector:s}=this;t=s(e)}catch(r){return this.error(r)}const s=new ts,n=new a,i={window:s,subscription:n};this.contexts.push(i);const o=V(this,t,i);o.closed?this.closeWindow(this.contexts.length-1):(o.context=i,n.add(o)),this.destination.next(s)}else this.closeWindow(this.contexts.indexOf(t))}notifyError(t){this.error(t)}notifyComplete(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))}closeWindow(t){if(-1===t)return;const{contexts:e}=this,s=e[t],{window:n,subscription:i}=s;e.splice(t,1),n.complete(),i.unsubscribe()}}function dr(t){return function(e){return e.lift(new fr(t))}}class fr{constructor(t){this.closingSelector=t}call(t,e){return e.subscribe(new pr(t,this.closingSelector))}}class pr extends w{constructor(t,e){super(t),this.destination=t,this.closingSelector=e,this.openWindow()}notifyNext(t,e,s,n,i){this.openWindow(i)}notifyError(t,e){this._error(t)}notifyComplete(t){this.openWindow(t)}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(t=null){t&&(this.remove(t),t.unsubscribe());const e=this.window;e&&e.complete();const s=this.window=new ts;let n;this.destination.next(s);try{const{closingSelector:t}=this;n=t()}catch(i){return this.destination.error(i),void this.window.error(i)}this.add(this.closingNotification=V(this,n))}}function br(...t){return e=>{let s;return"function"==typeof t[t.length-1]&&(s=t.pop()),e.lift(new wr(t,s))}}class wr{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new xr(t,this.observables,this.project))}}class xr extends w{constructor(t,e,s){super(t),this.observables=e,this.project=s,this.toRespond=[];const n=e.length;this.values=new Array(n);for(let i=0;i<n;i++)this.toRespond.push(i);for(let i=0;i<n;i++){let t=e[i];this.add(V(this,t,t,i))}}notifyNext(t,e,s,n,i){this.values[s]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(s);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}class mr{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new yr(t,this.resultSelector))}}class yr extends p{constructor(t,e,s=Object.create(null)){super(t),this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:null,this.values=s}_next(t){const e=this.iterators;u(t)?e.push(new vr(t)):e.push("function"==typeof t[_]?new _r(t[_]()):new gr(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let s=0;s<e;s++){let e=t[s];e.stillUnsubscribed?this.destination.add(e.subscribe(e,s)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,s=this.destination;for(let r=0;r<e;r++){let e=t[r];if("function"==typeof e.hasValue&&!e.hasValue())return}let n=!1;const i=[];for(let r=0;r<e;r++){let e=t[r],o=e.next();if(e.hasCompleted()&&(n=!0),o.done)return void s.complete();i.push(o.value)}this.resultSelector?this._tryresultSelector(i):s.next(i),n&&s.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}class _r{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return t&&t.done}}class vr{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[_](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class gr extends w{constructor(t,e,s){super(t),this.parent=e,this.observable=s,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[_](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t,e,s,n,i){this.buffer.push(e),this.parent.checkIterators()}subscribe(t,e){return V(this,this.observable,this,e)}}function Sr(...t){return function(e){return e.lift.call(function(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),ft(t,void 0).lift(new mr(e))}(e,...t))}}function Tr(t){return e=>e.lift(new mr(t))}},mrSG:function(t,e,s){"use strict";s.r(e),s.d(e,"__extends",function(){return i}),s.d(e,"__assign",function(){return r}),s.d(e,"__rest",function(){return o}),s.d(e,"__decorate",function(){return c}),s.d(e,"__param",function(){return u}),s.d(e,"__metadata",function(){return h}),s.d(e,"__awaiter",function(){return l}),s.d(e,"__generator",function(){return a}),s.d(e,"__createBinding",function(){return d}),s.d(e,"__exportStar",function(){return f}),s.d(e,"__values",function(){return p}),s.d(e,"__read",function(){return b}),s.d(e,"__spread",function(){return w}),s.d(e,"__spreadArrays",function(){return x}),s.d(e,"__await",function(){return m}),s.d(e,"__asyncGenerator",function(){return y}),s.d(e,"__asyncDelegator",function(){return _}),s.d(e,"__asyncValues",function(){return v}),s.d(e,"__makeTemplateObject",function(){return g}),s.d(e,"__importStar",function(){return T}),s.d(e,"__importDefault",function(){return E}),s.d(e,"__classPrivateFieldGet",function(){return N}),s.d(e,"__classPrivateFieldSet",function(){return I});var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])})(t,e)};function i(t,e){function s(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}var r=function(){return(r=Object.assign||function(t){for(var e,s=1,n=arguments.length;s<n;s++)for(var i in e=arguments[s])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]])}return s}function c(t,e,s,n){var i,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(o=(r<3?i(o):r>3?i(e,s,o):i(e,s))||o);return r>3&&o&&Object.defineProperty(e,s,o),o}function u(t,e){return function(s,n){e(s,n,t)}}function h(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,s,n){return new(s||(s=Promise))(function(i,r){function o(t){try{u(n.next(t))}catch(e){r(e)}}function c(t){try{u(n.throw(t))}catch(e){r(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s(function(t){t(e)})).then(o,c)}u((n=n.apply(t,e||[])).next())})}function a(t,e){var s,n,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(r){return function(c){return function(r){if(s)throw new TypeError("Generator is already executing.");for(;o;)try{if(s=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,n=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){o.label=r[1];break}if(6===r[0]&&o.label<i[1]){o.label=i[1],i=r;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(r);break}i[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(c){r=[6,c],n=0}finally{s=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}}var d=Object.create?function(t,e,s,n){void 0===n&&(n=s),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[s]}})}:function(t,e,s,n){void 0===n&&(n=s),t[n]=e[s]};function f(t,e){for(var s in t)"default"===s||Object.prototype.hasOwnProperty.call(e,s)||d(e,t,s)}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,s=e&&t[e],n=0;if(s)return s.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(t,e){var s="function"==typeof Symbol&&t[Symbol.iterator];if(!s)return t;var n,i,r=s.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=r.next()).done;)o.push(n.value)}catch(c){i={error:c}}finally{try{n&&!n.done&&(s=r.return)&&s.call(r)}finally{if(i)throw i.error}}return o}function w(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(b(arguments[e]));return t}function x(){for(var t=0,e=0,s=arguments.length;e<s;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<s;e++)for(var r=arguments[e],o=0,c=r.length;o<c;o++,i++)n[i]=r[o];return n}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=s.apply(t,e||[]),r=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(t){i[t]&&(n[t]=function(e){return new Promise(function(s,n){r.push([t,e,s,n])>1||c(t,e)})})}function c(t,e){try{(s=i[t](e)).value instanceof m?Promise.resolve(s.value.v).then(u,h):l(r[0][2],s)}catch(n){l(r[0][3],n)}var s}function u(t){c("next",t)}function h(t){c("throw",t)}function l(t,e){t(e),r.shift(),r.length&&c(r[0][0],r[0][1])}}function _(t){var e,s;return e={},n("next"),n("throw",function(t){throw t}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(s=!s)?{value:m(t[n](e)),done:"return"===n}:i?i(e):e}:i}}function v(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,s=t[Symbol.asyncIterator];return s?s.call(t):(t=p(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(s){e[s]=t[s]&&function(e){return new Promise(function(n,i){!function(t,e,s,n){Promise.resolve(n).then(function(e){t({value:e,done:s})},e)}(n,i,(e=t[s](e)).done,e.value)})}}}function g(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var S=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function T(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)"default"!==s&&Object.prototype.hasOwnProperty.call(t,s)&&d(e,t,s);return S(e,t),e}function E(t){return t&&t.__esModule?t:{default:t}}function N(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function I(t,e,s){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,s),s}},tOtE:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SolutionError=e.SolutionResult=e.SolutionProgress=void 0;class n{constructor(t){this.part=t,this.type="none"}}e.SolutionProgress=class extends n{constructor(t,e,s=0){super(t),this.percentage=e,this.timeMs=s,this.type="progress"}},e.SolutionResult=class extends n{constructor(t,e,s){super(t),this.result=e,this.timeMs=s,this.type="result"}},e.SolutionError=class extends n{constructor(t,e,s=0){super(t),this.message=e,this.timeMs=s,this.type="error"}}},wwU7:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=s("mrSG"),i=s("U63Z"),r=s("tOtE"),o=s("kU1M"),c=i.solutionManager.getSolutionsByDay();addEventListener("message",({data:t})=>n.__awaiter(void 0,void 0,void 0,function*(){const e=c.get(t.day).create();e.init(t.input);for(let t of[1,2]){const s=e.solveWithProgressAsync(t);yield s.pipe(o.tap(t=>postMessage(t))).toPromise()}postMessage(new r.SolutionResult(-1,void 0,0))}))}});